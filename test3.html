<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®‰å…¨æ„è¯†æŒ‘æˆ˜ - ç¬¬3é¢˜</title>
    <style>
        /* --- é‡‡ç”¨test1é¡µé¢çš„è®¾è®¡é£æ ¼ --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-width: 500px;
            width: 90%;
            text-align: center;
        }

        /* æ–°å¢ï¼šè¿›åº¦æ˜¾ç¤ºæ ·å¼ */
        .progress-bar {
            font-size: 14px;
            color: #6c757d;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .header {
            color: #d9534f;
            font-size: 24px;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .sub-header {
            color: #5f6368;
            font-size: 15px;
            margin-bottom: 25px;
            border-bottom: 2px solid #e8eaed;
            padding-bottom: 15px;
        }

        .email-client-mock {
            border: 1px solid #ddd;
            padding: 15px;
            background-color: #fffbe6;
            text-align: left;
            margin-bottom: 20px;
            border-radius: 4px;
            font-size: 15px;
        }

        .email-client-mock p { margin: 10px 0; }
        .email-client-mock hr { border: 0; border-top: 1px solid #ddd; }

        /* æ¨¡æ‹Ÿé“¾æ¥æ ·å¼ï¼Œæ­¤åœºæ™¯ä¸‹ä¸ºåˆè§„é“¾æ¥ */
        .safe-link {
            color: #007bff;
            text-decoration: underline;
            cursor: pointer;
            font-weight: bold;
        }
        .safe-link:hover {
            position: relative;
        }

        .safe-link:hover:after {
            content: "è·³è½¬è‡³: https://id.zju.edu.cn/cas/login?service=https://yiban.zju.edu.cn";
            position: absolute;
            bottom: -25px;
            left: 0;
            font-size: 12px;
            background-color: #333;
            color: #fff;
            padding: 2px 5px;
            border-radius: 3px;
            white-space: nowrap;
            font-family: monospace;
            font-weight: normal;
        }

        .action-area {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 15px;
            font-weight: bold;
            transition: all 0.2s;
            flex: 1;
        }

        /* åœºæ™¯ä¸€ï¼šé’“é±¼æŒ‰é’®ï¼ˆè“è‰²ï¼‰*/
        .btn-phishing {
            background-color: #007bff;
            color: white;
        }

        .btn-phishing:hover {
            background-color: #0056b3;
        }

        /* åœºæ™¯ä¸€ï¼šå®‰å…¨æŒ‰é’®ï¼ˆç°è‰²ï¼‰*/
        .btn-safe {
            background-color: #6c757d;
            color: white;
        }

        .btn-safe:hover {
            background-color: #545b62;
        }

        .result-box {
            margin-top: 20px;
            padding: 15px;
            display: none;
            border-radius: 4px;
            text-align: left;
            font-size: 14px;
            line-height: 1.6;
        }

        .res-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .res-danger {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .analysis-title {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 10px;
            display: block;
        }

        .analysis-item {
            margin-bottom: 8px;
            padding-left: 18px;
            position: relative;
        }

        .analysis-item:before {
            content: "â—†";
            position: absolute;
            left: 0;
            font-size: 12px;
            top: 2px;
        }

        /* --- æ–°å¢ï¼šå±…ä¸­æ˜¾ç¤ºâ€œä¸‹ä¸€æ¡â€æŒ‰é’® --- */
        .btn-next {
            background-color: #28a745;
            color: white;
            margin-top: 15px;
            display: none; /* åˆå§‹éšè— */
            width: 100%;
        }
        .btn-next:hover {
            background-color: #218838;
        }

    </style>
</head>
<body>

    <div class="container">
        <div id="scoreBoard" class="progress-bar">é¢˜ç›®ï¼š1 / 10</div>

        <div class="header">ğŸ›¡ï¸ çœŸå®æ ¡å›­æœåŠ¡åœºæ™¯ï¼šä¿¡æ¯å¤‡æ¡ˆ</div>
        <div class="sub-header">è¯·ä»”ç»†é˜…è¯»åœºæ™¯ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºé’“é±¼æ”»å‡»ï¼š</div>

        <div class="email-client-mock">
            <div class="email-meta">
                <p><strong>å‘ä»¶äºº:</strong> æµ™æ±Ÿå¤§å­¦å­¦ç”Ÿå·¥ä½œéƒ¨ &lt;studentaffairs@zju.edu.cn&gt;</p>
                <p><strong>ä¸»é¢˜:</strong> ã€é‡è¦é€šçŸ¥ã€‘å…³äºå­¦ç”Ÿç´§æ€¥åŒ»ç–—ä¸è”ç³»ä¿¡æ¯å¤‡æ¡ˆ</p>
            </div>

            <div class="email-body">
                <p>äº²çˆ±çš„åŒå­¦ï¼š</p>
                <p>ä¸ºä¿éšœå­¦ç”Ÿåœ¨æ ¡æœŸé—´çš„ç”Ÿå‘½å®‰å…¨ä¸å¥åº·ï¼Œå­¦æ ¡å¯åŠ¨ç´§æ€¥åŒ»ç–—ä¸è”ç³»ä¿¡æ¯å¤‡æ¡ˆå·¥ä½œã€‚é‡‡é›†æ‚¨çš„æ—¢å¾€ç—…å²ã€è¯ç‰©è¿‡æ•å²ç­‰ï¼Œä»…ç”¨äºçªå‘ç´§æ€¥æƒ…å†µä¸‹çš„å¿«é€Ÿæ•‘åŠ©ã€‚</p>
                <p>è¯·æ‚¨åœ¨æˆªæ­¢æ—¥æœŸå‰ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼ç™»å½•å®˜æ–¹å¹³å°è¿›è¡Œå¡«å†™ï¼š</p>
                <p style="text-align: center; margin: 25px 0;">
                    <span class="safe-link">[ç‚¹å‡»æ­¤å¤„å®‰å…¨ç™»å½•å­¦å·¥ç³»ç»Ÿè¿›è¡Œå¤‡æ¡ˆ]</span>
                </p>
                <p>è¯·æ³¨æ„ï¼šæ‰€æœ‰ä¿¡æ¯å°†å—åˆ°ä¸¥æ ¼ä¿æŠ¤ï¼Œä»…åœ¨ç´§æ€¥æƒ…å†µä¸‹ç”±æ ¡åŒ»é™¢å’Œä¿å«å¤„æŸ¥é˜…ã€‚å¦‚æœ‰ç–‘é—®ï¼Œè¯·æ‹¨æ‰“å­¦å·¥éƒ¨åŠå…¬å®¤ç”µè¯ <span style="font-weight: bold; color: #007bff;">(8820XXXX)</span> æ ¸å®ã€‚</p>
                <p>æµ™æ±Ÿå¤§å­¦å­¦ç”Ÿå·¥ä½œéƒ¨</p>
            </div>
        </div>

        <div class="action-area">
            <button class="btn btn-phishing" onclick="checkAnswer('ignore')">æ˜¯é’“é±¼</button>
            <button class="btn btn-safe" onclick="checkAnswer('link')">å®‰å…¨</button>
        </div>

        <div id="resultArea" class="result-box"></div>

        <!-- æ–°å¢ï¼šä¸‹ä¸€é¢˜æŒ‰é’® -->
        <button id="nextBtn" class="btn btn-next" onclick="goNext()">ä¸‹ä¸€æ¡</button>
    </div>

    <script>
        // ==========================================
        // === æœ¬é¡µé…ç½®åŒºåŸŸ ===
        const currentQNum = 3;         // å½“å‰é¢˜å·
        const nextPageName = "test4.html"; // ä¸‹ä¸€é¢˜æ–‡ä»¶å
        const isPhishingAnswer = false; // æ­£ç¡®ç­”æ¡ˆã€‚false:æ­¤å†…å®¹æ˜¯å®‰å…¨çš„
        const analysis = "è§£æï¼šè¿™ä¸ªé€šçŸ¥æ˜¯å­¦æ ¡å®˜æ–¹çš„ï¼Œæä¾›äº†æ¸…æ™°çš„ç”¨é€”ï¼Œä¸”æä¾›äº†çº¿ä¸‹æ ¸å®æ¸ é“ã€‚";
        // ==========================================

        // æ˜¾ç¤ºå½“å‰é¢˜ç›®è¿›åº¦
        function updateProgress() {
            const total = parseInt(localStorage.getItem('fish_total') || 0);
            document.getElementById('scoreBoard').innerText = `é¢˜ç›®ï¼š${currentQNum}  / 10`;
        }

        function checkAnswer(choice) {
            const resultArea = document.getElementById('resultArea');
            resultArea.style.display = 'block';
            
            let htmlContent = '';                

            // åœ¨çœŸå®åœºæ™¯ä¸­ï¼Œé€‰æ‹©â€œå®‰å…¨ç™»å½•â€æ˜¯æ­£ç¡®çš„æ“ä½œï¼ˆå°½ç®¡æ ¸å®ä¹Ÿæ˜¯å¥½ä¹ æƒ¯ï¼‰
            let isCorrect = false;

            if (choice === 'link') {
                resultArea.className = 'result-box res-success';
                htmlContent = `<span class="analysis-title">âœ… æ­£ç¡®æ“ä½œï¼è¿™æ˜¯ä¸€ä¸ªåˆè§„çš„å®‰å…¨é€šçŸ¥ã€‚</span>`;
                isCorrect = true;
            } else {
                resultArea.className = 'result-box res-danger';
                htmlContent = `<span class="analysis-title">âš ï¸ è­¦ç¤ºï¼šè¿™ä¸ªé€šçŸ¥æ˜¯å®‰å…¨çš„ï¼Œå¿½ç•¥å¯èƒ½ä¼šå½±å“ç´§æ€¥æ•‘åŠ©å¤‡æ¡ˆã€‚</span>`;
            }

            // é’ˆå¯¹çœŸå®é‚®ä»¶çš„ç‰¹å¾åˆ†æ
            htmlContent += `
                <hr style="border:0; border-top:1px solid rgba(0,0,0,0.1); margin:15px 0;">
                <strong>ğŸ’¡ åˆè§„é‚®ä»¶ç‰¹å¾åˆ†æï¼š</strong><br><br>
                <div class="analysis-item" style="color:#1e8e3e; font-weight:bold;">å‘ä»¶äººä½¿ç”¨å®˜æ–¹åŸŸåï¼š<span style="font-family:monospace; background:#d4edda; padding:2px 4px; color:#155724;">@zju.edu.cn</span>ï¼Œè¿™æ˜¯å­¦æ ¡å®˜æ–¹é€šçŸ¥çš„é“è¯ã€‚</div>
                <div class="analysis-item">ç›®çš„æ¸…æ™°ï¼Œä¸æ¶‰åŠé‡‘é’±ï¼šé€šçŸ¥æ˜ç¡®è¯´æ˜é‡‡é›†ä¿¡æ¯ä»…ç”¨äºâ€œç´§æ€¥æ•‘åŠ©â€ï¼Œä¸æ¶‰åŠä»»ä½•è´¹ç”¨ã€å……å€¼ã€å­¦åˆ†æˆ–è¯„å¥–ã€‚</div>
                <div class="analysis-item">æä¾›äº†çº¿ä¸‹æ ¸å®æ¸ é“ï¼šé‚®ä»¶ä¸­æä¾›äº†å­¦å·¥éƒ¨åŠå…¬å®¤ç”µè¯ï¼Œè€Œéä¸€ä¸ªé™Œç”Ÿæ‰‹æœºå·ã€‚ç”¨æˆ·å¯ä»¥è½»æ¾è‡´ç”µæ ¡åŒ»é™¢æˆ–å­¦å·¥éƒ¨æ ¸å®ã€‚</div>
                <div class="analysis-item">é“¾æ¥æŒ‡å‘ç»Ÿä¸€è®¤è¯ç³»ç»Ÿï¼šé¼ æ ‡æ‚¬åœï¼ˆæœ¬æ¼”ç»ƒå·²æ¨¡æ‹Ÿï¼‰æ˜¾ç¤ºé“¾æ¥æŒ‡å‘ <span style="font-family:monospace; background:#eee; padding:2px 4px;">id.zju.edu.cn</span> ç­‰æ ¡å†…å®‰å…¨ç™»å½•é—¨æˆ·ï¼Œè€Œéé™Œç”Ÿçš„å¤–éƒ¨åŸŸåã€‚</div>
            `;

            resultArea.innerHTML = htmlContent;

            // æ›´æ–°åˆ†æ•°å’Œæ€»é¢˜æ•°
            let score = parseInt(localStorage.getItem('fish_score') || 0);
            let total = parseInt(localStorage.getItem('fish_total') || 0);

            // å¦‚æœç”¨æˆ·ç­”å¯¹äº†ï¼Œå¢åŠ åˆ†æ•°
            if (isCorrect) {
                score++;
                localStorage.setItem('fish_score', score.toString());
            }

            // æ›´æ–°æ€»é¢˜æ•°
            total++;
            localStorage.setItem('fish_total', total.toString());

            // æ˜¾ç¤ºâ€œä¸‹ä¸€æ¡â€æŒ‰é’®
            document.getElementById('nextBtn').style.display = 'block';
        }

        function goNext() {
            const total = parseInt(localStorage.getItem('fish_total'));
            // å¦‚æœå·²åšæ»¡10é“ï¼Œè·³ç»“æœé¡µï¼Œæœªæ»¡è·³ test4
            if (total >= 10) {
                window.location.href = 'result.html';
            } else {
                window.location.href = nextPageName;
            }
        }

        // åˆå§‹åŒ–
        updateProgress();
    </script>
</body>
</html>
